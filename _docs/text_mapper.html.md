# Text Mapper


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

------------------------------------------------------------------------

<a
href="https://github.com/muhammad-asif78/nbdev_testing_simon2/blob/main/pipeline/ocr_processing/text_mapper.py#L80"
target="_blank" style="float:right; font-size:smaller">source</a>

### map_ocr_to_nodes

>  map_ocr_to_nodes (diagram_nodes, processed_ocr_data,
>                        relaxation_pixels=15, max_area_ratio=80)

------------------------------------------------------------------------

<a
href="https://github.com/muhammad-asif78/nbdev_testing_simon2/blob/main/pipeline/ocr_processing/text_mapper.py#L23"
target="_blank" style="float:right; font-size:smaller">source</a>

### get_text_rotation_for_shape

>  get_text_rotation_for_shape (shape_bbox, ocr_data, threshold=0.25)

\*Find OCR text within a shape and calculate weighted rotation angle.

Args: shape_bbox: (x1, y1, x2, y2) of the shape ocr_data: List of OCR
data with polygon_rotation/shape_rotation threshold: Minimum overlap
threshold (0-1)

Returns: Snapped rotation angle (float) or None if no text found\*
